name: Check AI Words

on:
  push:
    branches: [main, develop, feat/**]
  pull_request:
    branches: [main, develop]

jobs:
  check-ai-words:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Check for "AI" in user-facing files
        run: |
          # P0-6: ì‚¬ìš©ì ëŒ€ë©´ íŒŒì¼ì—ì„œ "AI" ë‹¨ì–´ ê²€ì‚¬
          # i18n, ì»´í¬ë„ŒíŠ¸, í˜ì´ì§€ë§Œ ê²€ì‚¬ (ë‚´ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬/í…ŒìŠ¤íŠ¸ ì œì™¸)

          echo "ğŸ” Checking for 'AI' words in user-facing files..."

          FOUND=0

          # Check i18n files
          if grep -r '\bAI\b' src/i18n 2>/dev/null; then
            echo "âŒ Found 'AI' in i18n files"
            FOUND=1
          fi

          # Check components
          if grep -r '\bAI\b' src/components --exclude-dir=node_modules 2>/dev/null; then
            echo "âŒ Found 'AI' in components"
            FOUND=1
          fi

          # Check app pages (excluding lib, hooks, tests)
          if grep -r '\bAI\b' src/app --exclude-dir=node_modules 2>/dev/null; then
            echo "âŒ Found 'AI' in app pages"
            FOUND=1
          fi

          if [ $FOUND -eq 1 ]; then
            echo ""
            echo "âŒ P0-6 Compliance Failed: Found 'AI' words in user-facing files"
            echo "Please replace with approved terminology:"
            echo "  AI ì „ëµ ìƒì„± â†’ ì „ëµ ì—”ì§„"
            echo "  AI ë¶„ì„ â†’ ë¦¬ì„œì¹˜ ìš”ì•½"
            echo "  AI íŠœí„° â†’ í•™ìŠµ ê°€ì´ë“œ"
            exit 1
          else
            echo "âœ… P0-6 Compliance Passed: No 'AI' words in user-facing files"
          fi
