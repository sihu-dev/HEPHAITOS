# HEPHAITOS ê°œë°œì ì˜¨ë³´ë”© ê°€ì´ë“œ

> **ì‹ ê·œ ê°œë°œìë¥¼ ìœ„í•œ ì™„ë²½í•œ ì‹œì‘ ê°€ì´ë“œ**
>
> **ëª©í‘œ**: ì²«ë‚ ë¶€í„° PR ë‚ ë¦´ ìˆ˜ ìˆë„ë¡!
> **ì†Œìš” ì‹œê°„**: 4ì‹œê°„ (í™˜ê²½ ì„¤ì • 1ì‹œê°„ + ì½”ë“œë² ì´ìŠ¤ í•™ìŠµ 3ì‹œê°„)
> **ì—…ë°ì´íŠ¸**: 2025-12-22

---

## ğŸ“‹ ëª©ì°¨

1. [í™˜ì˜í•©ë‹ˆë‹¤!](#1-í™˜ì˜í•©ë‹ˆë‹¤)
2. [ë¹ ë¥¸ ì‹œì‘](#2-ë¹ ë¥¸-ì‹œì‘-quick-start)
3. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#3-í”„ë¡œì íŠ¸-êµ¬ì¡°)
4. [í•µì‹¬ ê°œë…](#4-í•µì‹¬-ê°œë…)
5. [ê°œë°œ ì›Œí¬í”Œë¡œìš°](#5-ê°œë°œ-ì›Œí¬í”Œë¡œìš°)
6. [ì½”ë“œ ìŠ¤íƒ€ì¼](#6-ì½”ë“œ-ìŠ¤íƒ€ì¼)
7. [í…ŒìŠ¤íŒ…](#7-í…ŒìŠ¤íŒ…)
8. [ë°°í¬](#8-ë°°í¬)
9. [FAQ](#9-faq)
10. [ë„ì›€ ë°›ê¸°](#10-ë„ì›€-ë°›ê¸°)

---

## 1. í™˜ì˜í•©ë‹ˆë‹¤!

### ğŸ‰ HEPHAITOS íŒ€ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!

ìš°ë¦¬ëŠ” **"Replit for Trading"**ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.
ì½”ë”© ì—†ì´ ëˆ„êµ¬ë‚˜ AI íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.

### ğŸ¯ ìš°ë¦¬ì˜ ë¯¸ì…˜

```
"ëª¨ë“  ê°œì¸ íˆ¬ììê°€ ê¸°ê´€ê¸‰ AI íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œì„
 ì†Œìœ í•  ìˆ˜ ìˆëŠ” ì„¸ìƒì„ ë§Œë“ ë‹¤"
```

### ğŸ“š í•„ìˆ˜ ì½ê¸° ìë£Œ (ì²« ì£¼)

1. **BUSINESS_CONSTITUTION.md** - ì‚¬ì—… í—Œë²• (ë¶ˆë³€ ì›ì¹™)
   - Copy-Learn-Build ëª¨ë¸ ì´í•´
   - ë²•ë¥  ì¤€ìˆ˜ ì‚¬í•­ (íˆ¬ì ì¡°ì–¸ ê¸ˆì§€!)
   - íƒ€ê²Ÿ í˜ë¥´ì†Œë‚˜ (ë¯¼ìˆ˜/ì§€í˜„/ì˜í˜¸)

2. **DESIGN_SYSTEM.md** - Linear-inspired Dark Theme
   - ì»¬ëŸ¬ íŒ”ë ˆíŠ¸, íƒ€ì´í¬ê·¸ë˜í”¼
   - Glass Morphism ë””ìì¸ íŒ¨í„´
   - ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²•

3. **CLAUDE_FEATURES_INTEGRATION_ANALYSIS.md** - AI ì „ëµ
   - Prompt Cachingìœ¼ë¡œ ë¹„ìš© -90%
   - Vision APIë¡œ ì°¨íŠ¸ ë¶„ì„
   - ê²½ìŸ ìš°ìœ„ í•µì‹¬

### ğŸ› ï¸ ê°œë°œ í™˜ê²½ ìš”êµ¬ì‚¬í•­

**í•„ìˆ˜**:
- Node.js 18+ (ê¶Œì¥: 20 LTS)
- pnpm 8+ (`npm install -g pnpm`)
- Git
- VS Code (ê¶Œì¥ IDE)

**ê¶Œì¥**:
- Docker (ì„ íƒ, ë¡œì»¬ DB í…ŒìŠ¤íŠ¸)
- Postman (API í…ŒìŠ¤íŠ¸)

---

## 2. ë¹ ë¥¸ ì‹œì‘ (Quick Start)

### âš¡ 5ë¶„ ì•ˆì— ë¡œì»¬ ì‹¤í–‰í•˜ê¸°

```bash
# 1. ë ˆí¬ì§€í† ë¦¬ í´ë¡ 
git clone https://github.com/your-org/HEPHAITOS.git
cd HEPHAITOS

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pnpm install

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# .env.local íŒŒì¼ì„ ì—´ì–´ í•„ìˆ˜ ê°’ ì…ë ¥ (ì•„ë˜ ê°€ì´ë“œ ì°¸ì¡°)

# 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm dev

# âœ… http://localhost:3000 ì ‘ì†!
```

### ğŸ”‘ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê°€ì´ë“œ

**.env.local íŒŒì¼**:

```bash
# Supabase (í•„ìˆ˜)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...  # âš ï¸ ì„œë²„ ì „ìš©, ë…¸ì¶œ ê¸ˆì§€!

# Claude API (í•„ìˆ˜)
ANTHROPIC_API_KEY=sk-ant-api03-...

# Upstash Redis (Loop 11 - ë°±í…ŒìŠ¤íŠ¸ í)
UPSTASH_REDIS_URL=rediss://default:...@...upstash.io:6379

# Toss Payments (í™˜ë¶ˆ ìë™í™”)
TOSS_SECRET_KEY=test_sk_...  # ê°œë°œ: test, í”„ë¡œë•ì…˜: live

# Worker ì„¤ì •
WORKER_CONCURRENCY=5
WORKER_MAX_RETRIES=3
```

**ê°’ ì–»ëŠ” ë°©ë²•**:
- **Supabase**: [console.supabase.com](https://console.supabase.com) â†’ í”„ë¡œì íŠ¸ â†’ Settings â†’ API
- **Claude**: [console.anthropic.com](https://console.anthropic.com) â†’ API Keys
- **Upstash**: [console.upstash.com](https://console.upstash.com) â†’ Redis â†’ Details
- **Toss**: [developers.tosspayments.com](https://developers.tosspayments.com) â†’ API Keys

### âœ… ì„¤ì¹˜ í™•ì¸

```bash
# íƒ€ì… ì²´í¬
pnpm type-check
# âœ… Found 0 errors

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
pnpm build
# âœ… Compiled successfully

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pnpm test
# âœ… All tests passed
```

---

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°

### ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° (ë‚˜ë…¸íŒ©í„° ì•„í‚¤í…ì²˜)

```
HEPHAITOS/
â”œâ”€â”€ .claude/                    # Claude Code ì„¤ì •
â”‚   â”œâ”€â”€ hooks/                  # Pre/Post Tool Hooks
â”‚   â””â”€â”€ memory/                 # Core Rules, Architecture
â”‚
â”œâ”€â”€ docs/                       # ë¬¸ì„œ
â”‚   â”œâ”€â”€ MASTER_ROADMAP_V2_TO_BETA.md
â”‚   â”œâ”€â”€ LOOP_11-13_COMPLETE.md
â”‚   â”œâ”€â”€ DEPLOYMENT_GUIDE.md
â”‚   â”œâ”€â”€ BETA_LAUNCH_CHECKLIST.md
â”‚   â””â”€â”€ CLAUDE_FEATURES_INTEGRATION_ANALYSIS.md
â”‚
â”œâ”€â”€ packages/                   # ëª¨ë…¸ë ˆí¬ (ë‚˜ë…¸íŒ©í„°)
â”‚   â”œâ”€â”€ types/                  # L0: ê¸°ë³¸ íƒ€ì… ì •ì˜
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ strategy.ts     # StrategyType, Timeframe, Indicator
â”‚   â”‚       â”œâ”€â”€ backtest.ts     # BacktestConfig, PerformanceMetrics
â”‚   â”‚       â”œâ”€â”€ order.ts        # ExecutionMode, RiskConfig
â”‚   â”‚       â””â”€â”€ exchange.ts     # ExchangeType, EXCHANGE_CONFIGS
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # L1: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ formatters.ts   # formatCurrency, formatPercentage
â”‚   â”‚       â””â”€â”€ validators.ts   # ì…ë ¥ ê²€ì¦
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                   # L2: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ services/       # Service Layer
â”‚   â”‚       â””â”€â”€ repositories/   # Data Access Layer
â”‚   â”‚
â”‚   â””â”€â”€ agents/                 # L3: ììœ¨ ì—ì´ì „íŠ¸
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ BacktestAgent.ts      # 645 lines
â”‚           â”œâ”€â”€ OrderExecutorAgent.ts  # 633 lines
â”‚           â””â”€â”€ PortfolioSyncAgent.ts  # 324 lines
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/             # ì¸ì¦ ê·¸ë£¹
â”‚   â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚   â”‚       â”œâ”€â”€ login/
â”‚   â”‚   â”‚       â””â”€â”€ callback/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (dashboard)/        # ëŒ€ì‹œë³´ë“œ ê·¸ë£¹
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx    # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚       â”œâ”€â”€ strategies/
â”‚   â”‚   â”‚       â”œâ”€â”€ backtest/
â”‚   â”‚   â”‚       â””â”€â”€ queue/      # Loop 11: Queue Dashboard
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/                # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ strategies/     # ì „ëµ CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ backtest/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ queue/      # Loop 11: Queue API
â”‚   â”‚   â”‚   â”œâ”€â”€ refunds/        # Loop 13: í™˜ë¶ˆ ìë™í™”
â”‚   â”‚   â”‚   â””â”€â”€ ai/
â”‚   â”‚   â”‚       â”œâ”€â”€ analyze-chart/  # Vision API
â”‚   â”‚   â”‚       â””â”€â”€ generate-strategy/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 # ê¸°ë³¸ UI (11ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Tabs.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/             # ë ˆì´ì•„ì›ƒ (2ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ dashboard/          # ëŒ€ì‹œë³´ë“œ (8ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ PortfolioChart.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TradingChart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ BacktestProgress.tsx  # Loop 11
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ strategy-builder/   # Strategy Builder (8ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ StrategyBuilder.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodePalette.tsx
â”‚   â”‚   â”‚   â””â”€â”€ nodes/
â”‚   â”‚   â”‚       â”œâ”€â”€ TriggerNode.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ConditionNode.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ IndicatorNode.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ ActionNode.tsx
â”‚   â”‚   â”‚       â””â”€â”€ RiskNode.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ settings/           # ì„¤ì • (3ê°œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI í†µí•©
â”‚   â”‚   â”‚   â”œâ”€â”€ cache-config.ts      # Prompt Caching
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy-generator.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ trade-explainer.ts
â”‚   â”‚   â”‚   â””â”€â”€ analyze-chart.ts     # Vision API
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ queue/              # BullMQ (Loop 11)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts             # Queue ì •ì˜
â”‚   â”‚   â”‚   â””â”€â”€ backtest-worker.ts   # Worker í”„ë¡œì„¸ìŠ¤
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ exchange/           # ë¸Œë¡œì»¤ ì—°ë™
â”‚   â”‚   â”‚   â”œâ”€â”€ binance.ts
â”‚   â”‚   â”‚   â””â”€â”€ upbit.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ supabase/           # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚       â”œâ”€â”€ client.ts
â”‚   â”‚       â”œâ”€â”€ server.ts
â”‚   â”‚       â””â”€â”€ types.ts        # ìë™ ìƒì„± íƒ€ì…
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                 # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ strategy-store.ts
â”‚   â”‚   â”œâ”€â”€ exchange-store.ts
â”‚   â”‚   â”œâ”€â”€ portfolio-store.ts
â”‚   â”‚   â””â”€â”€ ui-store.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                  # TypeScript íƒ€ì…
â”‚   â”‚   â””â”€â”€ index.ts            # 245 lines
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ globals.css         # Tailwind + Custom Styles
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/             # DB ìŠ¤í‚¤ë§ˆ ë³€ê²½
â”‚   â”‚   â”œâ”€â”€ 20251216_loop12_strategy_performance.sql
â”‚   â”‚   â””â”€â”€ 20251222_loop13_refund_automation.sql
â”‚   â”‚
â”‚   â””â”€â”€ functions/              # Edge Functions
â”‚       â””â”€â”€ auto-refund/        # Loop 13: í™˜ë¶ˆ ìë™í™”
â”‚           â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ scripts/                    # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ load-test-queue.ts      # Loop 11: ë¶€í•˜ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test-redis-connection.ts
â”‚
â”œâ”€â”€ .env.example                # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .env.local                  # ë¡œì»¬ í™˜ê²½ ë³€ìˆ˜ (Git ë¬´ì‹œ)
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ next.config.js
â””â”€â”€ README.md
```

### ğŸ—ï¸ ë‚˜ë…¸íŒ©í„° ì•„í‚¤í…ì²˜ (Nano-Factor Hierarchy)

```
L0 (Atoms)     â†’ packages/types/src/     # ê¸°ë³¸ íƒ€ì… ì •ì˜
L1 (Molecules) â†’ packages/utils/src/     # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
L2 (Cells)     â†’ packages/core/src/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
L3 (Tissues)   â†’ src/agents/             # ììœ¨ ì—ì´ì „íŠ¸
```

**í•µì‹¬ ì›ì¹™**:
- ìƒìœ„ ë ˆë²¨ì€ í•˜ìœ„ ë ˆë²¨ì—ë§Œ ì˜ì¡´
- í•˜ìœ„ ë ˆë²¨ì€ ìƒìœ„ ë ˆë²¨ ëª°ë¼ì•¼ í•¨
- ìˆœí™˜ ì˜ì¡´ ì ˆëŒ€ ê¸ˆì§€

---

## 4. í•µì‹¬ ê°œë…

### ğŸ¯ Copy-Learn-Build ëª¨ë¸

**HEPHAITOSì˜ í•µì‹¬ ê°€ì¹˜ ì œì•ˆ**:

```typescript
// Stage 1: COPY (ë”°ë¼í•˜ê¸°)
interface CopyMode {
  celebrity: 'Nancy Pelosi' | 'Warren Buffett' | 'Michael Burry'
  portfolioMirroring: '1-click'
  realTimeAlerts: 'push notifications'
  targetUser: 'ì™„ì „ ì´ˆë³´'
}

// Stage 2: LEARN (ë°°ìš°ê¸°)
interface LearnMode {
  aiMentor: 'Claude 4'
  whyAnalysis: 'ê±°ë˜ ì´ìœ  ë¶„ì„'
  liveCoaching: '1:1 ë©˜í†  ì„¸ì…˜'
  targetUser: 'ì¤‘ê¸‰ì'
}

// Stage 3: BUILD (ë§Œë“¤ê¸°)
interface BuildMode {
  naturalLanguage: 'RSI 30 ì´í•˜ì—ì„œ ë§¤ìˆ˜'
  strategyGenerator: 'AI â†’ Python ì½”ë“œ'
  backtesting: '10ë…„ ë°ì´í„°'
  liveTrading: '1í´ë¦­ ë°°í¬'
  targetUser: 'ê³ ê¸‰ì'
}
```

### ğŸ¤– Claude AI í†µí•© (5ëŒ€ ê¸°ëŠ¥)

**1. Prompt Caching** (ë¹„ìš© -90%):
```typescript
// src/lib/ai/cache-config.ts
const SYSTEM_PROMPT_CACHED = {
  type: "text",
  text: "ë‹¹ì‹ ì€ HEPHAITOSì˜ AI ë©˜í† ì…ë‹ˆë‹¤...",
  cache_control: { type: "ephemeral" } // 5ë¶„ ìºì‹œ
}

// 2ë²ˆì§¸ ìš”ì²­ë¶€í„° 90% í• ì¸!
```

**2. Vision API** (ì°¨íŠ¸ ë¶„ì„):
```typescript
// src/lib/ai/analyze-chart.ts
const response = await anthropic.messages.create({
  model: "claude-sonnet-4-5",
  messages: [{
    role: "user",
    content: [
      { type: "image", source: { type: "base64", data: chartImage } },
      { type: "text", text: "ì´ ì°¨íŠ¸ì˜ íŒ¨í„´ì„ ë¶„ì„í•´ì£¼ì„¸ìš”" }
    ]
  }]
})
// â†’ "í—¤ë“œì•¤ìˆ„ë” íŒ¨í„´ì´ í˜•ì„±ë˜ê³  ìˆìŠµë‹ˆë‹¤..."
```

**3. Claude Opus** (Pro ì „ìš©):
```typescript
const model = user.tier === 'pro'
  ? 'claude-opus-4-5'      // Pro: ìµœê³  í’ˆì§ˆ
  : 'claude-sonnet-4-5'    // Free: ê¸°ë³¸ í’ˆì§ˆ
```

**4. Extended Context** (200K í† í°):
```typescript
// 10ë…„ ë°±í…ŒìŠ¤íŠ¸ ë°ì´í„° (50,000 í† í°) í•œ ë²ˆì— ë¶„ì„!
const fullData = JSON.stringify(backtestResults) // 50K tokens
// ì²­í‚¹ ë¶ˆí•„ìš”!
```

**5. Batch API** (ë¹„ìš© -50%):
```typescript
// ì•¼ê°„ ë°°ì¹˜ ì²˜ë¦¬
const batch = await anthropic.batches.create({
  requests: strategies.map(s => ({
    custom_id: s.id,
    params: { messages: [{ role: "user", content: `ì „ëµ ì„¤ëª…: ${s.code}` }] }
  }))
})
// â†’ ë‹¤ìŒë‚  ì•„ì¹¨ ê²°ê³¼ í™•ì¸
```

### ğŸ” ë²•ë¥  ì¤€ìˆ˜ (CRITICAL!)

**ì ˆëŒ€ ê·œì¹™**: íˆ¬ì ì¡°ì–¸ í‘œí˜„ ê¸ˆì§€

```typescript
// âŒ ê¸ˆì§€ëœ í‘œí˜„ (íˆ¬ì ì¡°ì–¸)
const forbiddenPhrases = [
  'ì‚¬ì„¸ìš”', 'íŒ”ì„¸ìš”', '~í•˜ì„¸ìš”',
  'ìˆ˜ìµ ë³´ì¥', 'í™•ì‹¤í•œ ìˆ˜ìµ', 'ë¬´ì¡°ê±´ ìˆ˜ìµ'
]

// âœ… í—ˆìš©ëœ í‘œí˜„ (êµìœ¡ ëª©ì )
const allowedPhrases = [
  '~í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤', 'ì°¸ê³ ìš©ì…ë‹ˆë‹¤', 'êµìœ¡ ëª©ì ì…ë‹ˆë‹¤',
  'ê³¼ê±° ì„±ê³¼ëŠ” ë¯¸ë˜ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤'
]

// ëª¨ë“  AI ì‘ë‹µ í•„í„°ë§
function checkLegalCompliance(text: string): boolean {
  return !forbiddenPhrases.some(phrase => text.includes(phrase))
}
```

**ë©´ì±…ì¡°í•­ í•„ìˆ˜**:
```tsx
import { DisclaimerInline } from '@/components/ui/Disclaimer'

<DisclaimerInline />
// â†’ "ë³¸ ì„œë¹„ìŠ¤ëŠ” íˆ¬ì ì¡°ì–¸ì´ ì•„ë‹Œ êµìœ¡ ëª©ì ì…ë‹ˆë‹¤..."
```

### ğŸ“Š ë°±í…ŒìŠ¤íŠ¸ í ì‹œìŠ¤í…œ (Loop 11)

**ì•„í‚¤í…ì²˜**:
```
Frontend â†’ API Route (Job ìƒì„±)
  â†“
BullMQ Queue (Upstash Redis)
  â†“
Worker í”„ë¡œì„¸ìŠ¤ (ë³„ë„ Node.js)
  â†“
Supabase Realtime (WebSocket)
  â†“
Frontend (ì§„í–‰ë¥  ì‹¤ì‹œê°„ í‘œì‹œ)
```

**ì‚¬ìš© ì˜ˆ**:
```typescript
// 1. ë°±í…ŒìŠ¤íŠ¸ ìš”ì²­
const response = await fetch('/api/backtest/queue', {
  method: 'POST',
  body: JSON.stringify({ strategyId: 'xxx', params: {...} })
})
const { jobId } = await response.json()

// 2. ì§„í–‰ë¥  êµ¬ë… (Realtime)
const channel = supabase.channel(`backtest:${jobId}`)
channel.on('broadcast', { event: 'progress' }, (payload) => {
  console.log(`ì§„í–‰ë¥ : ${payload.progress}%`)
})
```

---

## 5. ê°œë°œ ì›Œí¬í”Œë¡œìš°

### ğŸŒ¿ Git ë¸Œëœì¹˜ ì „ëµ

**ë¸Œëœì¹˜ ëª…ëª… ê·œì¹™**:
```
main                    # í”„ë¡œë•ì…˜
â”œâ”€ develop              # ê°œë°œ í†µí•©
â”‚  â”œâ”€ feature/loop-14-live-trading
â”‚  â”œâ”€ feature/vision-api-chart-analysis
â”‚  â”œâ”€ fix/backtest-timeout-issue
â”‚  â””â”€ chore/update-dependencies
```

**ì‘ì—… í”„ë¡œì„¸ìŠ¤**:
```bash
# 1. develop ë¸Œëœì¹˜ì—ì„œ ì‹œì‘
git checkout develop
git pull origin develop

# 2. ìƒˆ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/your-feature-name

# 3. ì‘ì—… + ì»¤ë°‹
git add .
git commit -m "feat(module): description"

# 4. Push
git push origin feature/your-feature-name

# 5. PR ìƒì„± (GitHub)
# - develop ë¸Œëœì¹˜ë¡œ PR
# - ë¦¬ë·°ì–´ ì§€ì •
# - CI/CD í†µê³¼ í™•ì¸
```

### ğŸ“ ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

**Conventional Commits**:
```
feat(copy): add Pelosi portfolio mirroring
fix(trading): resolve order execution bug
docs: update API documentation
chore(deps): upgrade Next.js to 15.1
refactor(queue): simplify worker logic
test: add backtest unit tests
```

**ìŠ¤ì½”í”„** (scope):
- `copy`: Copy ëª¨ë“œ ê¸°ëŠ¥
- `learn`: Learn ëª¨ë“œ ê¸°ëŠ¥
- `build`: Build ëª¨ë“œ ê¸°ëŠ¥
- `ai`: AI/Claude í†µí•©
- `queue`: ë°±í…ŒìŠ¤íŠ¸ í ì‹œìŠ¤í…œ
- `ui`: UI ì»´í¬ë„ŒíŠ¸
- `api`: API ë¼ìš°íŠ¸

### ğŸ” ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

**ë¦¬ë·°ì–´ê°€ í™•ì¸í•  ì‚¬í•­**:
- [ ] **ë²•ë¥  ì¤€ìˆ˜**: íˆ¬ì ì¡°ì–¸ í‘œí˜„ ì—†ìŒ
- [ ] **íƒ€ì… ì•ˆì „**: `any` íƒ€ì… ì‚¬ìš© ê¸ˆì§€
- [ ] **ë””ìì¸ ì‹œìŠ¤í…œ**: í•˜ë“œì½”ë”© ìƒ‰ìƒ ê¸ˆì§€ (`bg-primary` ì‚¬ìš©)
- [ ] **ì—ëŸ¬ í•¸ë“¤ë§**: try-catch êµ¬í˜„
- [ ] **ë©´ì±…ì¡°í•­**: íŠ¸ë ˆì´ë”© ê´€ë ¨ UIì— í‘œì‹œ
- [ ] **í…ŒìŠ¤íŠ¸**: ìœ ë‹› í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] **ë¬¸ì„œí™”**: JSDoc ì£¼ì„ (ë³µì¡í•œ ë¡œì§)

---

## 6. ì½”ë“œ ìŠ¤íƒ€ì¼

### ğŸ¨ TypeScript ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

**íƒ€ì… ì •ì˜**:
```typescript
// âœ… Good: êµ¬ì²´ì  íƒ€ì…
interface Strategy {
  id: string
  name: string
  type: StrategyType
  parameters: StrategyParameters
}

// âŒ Bad: any ì‚¬ìš©
interface Strategy {
  id: string
  name: string
  parameters: any  // ì ˆëŒ€ ê¸ˆì§€!
}
```

**í•¨ìˆ˜ ì •ì˜**:
```typescript
// âœ… Good: ëª…í™•í•œ íƒ€ì… ì‹œê·¸ë‹ˆì²˜
export async function generateStrategy(
  prompt: string,
  tier: 'free' | 'pro'
): Promise<{ code: string; explanation: string }> {
  // ...
}

// âŒ Bad: ì•”ë¬µì  any ë°˜í™˜
export async function generateStrategy(prompt, tier) {
  // ...
}
```

**ì—ëŸ¬ í•¸ë“¤ë§**:
```typescript
// âœ… Good
try {
  const result = await riskyOperation()
  return { success: true, data: result }
} catch (err) {
  const message = err instanceof Error ? err.message : 'Unknown error'
  safeLogger.error('[generateStrategy] Error:', { message })
  return { success: false, error: message }
}

// âŒ Bad: ì—ëŸ¬ ë¬´ì‹œ
const result = await riskyOperation() // try-catch ì—†ìŒ!
```

### ğŸ¨ React ì»´í¬ë„ŒíŠ¸ íŒ¨í„´

**í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ + Hooks**:
```tsx
'use client' // Next.js App Router

import { useState, useEffect } from 'react'
import { Button } from '@/components/ui/Button'

interface Props {
  strategyId: string
  onComplete: (result: BacktestResult) => void
}

export function BacktestRunner({ strategyId, onComplete }: Props) {
  const [loading, setLoading] = useState(false)
  const [progress, setProgress] = useState(0)

  useEffect(() => {
    // Supabase Realtime êµ¬ë…
    const channel = supabase.channel(`backtest:${strategyId}`)
    channel.on('broadcast', { event: 'progress' }, ({ progress }) => {
      setProgress(progress)
    })
    return () => { channel.unsubscribe() }
  }, [strategyId])

  return (
    <div className="glass-card p-6">
      {loading && <Spinner />}
      <div className="w-full bg-surface-raised rounded-full h-2">
        <div
          className="bg-primary h-2 rounded-full transition-all"
          style={{ width: `${progress}%` }}
        />
      </div>
    </div>
  )
}
```

### ğŸ¨ Tailwind CSS ì‚¬ìš© ê·œì¹™

```tsx
// âœ… Good: ë””ìì¸ í† í° ì‚¬ìš©
<div className="bg-primary text-white p-4 rounded-lg">

// âŒ Bad: í•˜ë“œì½”ë”© ìƒ‰ìƒ
<div className="bg-[#5E6AD2] text-white p-4 rounded-lg">

// âœ… Good: Glass Morphism
<div className="glass-card">

// âŒ Bad: ì¸ë¼ì¸ ìŠ¤íƒ€ì¼
<div style={{ background: 'rgba(255,255,255,0.03)', backdropFilter: 'blur(16px)' }}>
```

---

## 7. í…ŒìŠ¤íŒ…

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

**3-Layer Testing**:
```
Unit Tests (Jest)           â† ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
Integration Tests (Jest)    â† API ë¼ìš°íŠ¸, DB ì—°ë™
E2E Tests (Playwright)      â† ì‚¬ìš©ì í”Œë¡œìš°
```

### ğŸ§ª ìœ ë‹› í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// src/lib/utils/__tests__/formatters.test.ts
import { formatCurrency, formatPercentage } from '../formatters'

describe('formatCurrency', () => {
  it('should format KRW correctly', () => {
    expect(formatCurrency(1234567, 'KRW')).toBe('â‚©1,234,567')
  })

  it('should format USD correctly', () => {
    expect(formatCurrency(1234.56, 'USD')).toBe('$1,234.56')
  })
})

describe('formatPercentage', () => {
  it('should show positive sign for gains', () => {
    expect(formatPercentage(12.5)).toBe('+12.5%')
  })

  it('should show negative sign for losses', () => {
    expect(formatPercentage(-8.3)).toBe('-8.3%')
  })
})
```

### ğŸ§ª E2E í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// e2e/backtest.spec.ts
import { test, expect } from '@playwright/test'

test('ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í”Œë¡œìš°', async ({ page }) => {
  // 1. ë¡œê·¸ì¸
  await page.goto('/auth/login')
  await page.click('button:has-text("Google ë¡œê·¸ì¸")')

  // 2. Strategy Builder ì ‘ì†
  await page.goto('/dashboard/strategies/new')

  // 3. ìì—°ì–´ ì „ëµ ì…ë ¥
  await page.fill('textarea[name="prompt"]', 'RSI 30 ì´í•˜ì—ì„œ ë§¤ìˆ˜')
  await page.click('button:has-text("ì „ëµ ìƒì„±")')

  // 4. ìƒì„± ì™„ë£Œ ëŒ€ê¸°
  await expect(page.locator('.strategy-code')).toBeVisible()

  // 5. ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
  await page.click('button:has-text("ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰")')

  // 6. ì§„í–‰ë¥  í™•ì¸
  await expect(page.locator('.progress-bar')).toBeVisible()

  // 7. ê²°ê³¼ í™•ì¸
  await expect(page.locator('.backtest-result')).toBeVisible({ timeout: 60000 })
})
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ìœ ë‹› í…ŒìŠ¤íŠ¸
pnpm test

# íŠ¹ì • íŒŒì¼ë§Œ
pnpm test formatters.test.ts

# ì»¤ë²„ë¦¬ì§€
pnpm test --coverage

# E2E í…ŒìŠ¤íŠ¸
pnpm test:e2e

# CI í™˜ê²½ (headless)
pnpm test:e2e --headed=false
```

---

## 8. ë°°í¬

### ğŸš€ Vercel ë°°í¬

**ìë™ ë°°í¬** (CI/CD):
```
main ë¸Œëœì¹˜ Push â†’ Vercel í”„ë¡œë•ì…˜ ë°°í¬
develop ë¸Œëœì¹˜ Push â†’ Vercel Preview ë°°í¬
```

**ìˆ˜ë™ ë°°í¬**:
```bash
# í”„ë¡œë•ì…˜ ë°°í¬
vercel --prod

# Preview ë°°í¬
vercel
```

### ğŸš€ Supabase Migration

**ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸**:
```bash
# Migration ìƒì„±
supabase migration new add_new_table

# ë¡œì»¬ DBì— ì ìš©
supabase db reset

# í”„ë¡œë•ì…˜ì— ì ìš©
supabase db push
```

### ğŸš€ Worker ë°°í¬

**Option A: Vercel Cron** (ê¶Œì¥):
```json
// vercel.json
{
  "crons": [{
    "path": "/api/cron/process-queue",
    "schedule": "*/1 * * * *"  // ë§¤ 1ë¶„
  }]
}
```

**Option B: Railway/Render**:
```bash
# Dockerfile
FROM node:20-alpine
WORKDIR /app
COPY . .
RUN pnpm install
CMD ["pnpm", "tsx", "src/lib/queue/backtest-worker.ts"]
```

---

## 9. FAQ

### â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q1. "any íƒ€ì…ì„ ì ˆëŒ€ ì“°ë©´ ì•ˆ ë˜ë‚˜ìš”?"**
- A: ë„¤, ì ˆëŒ€ ê¸ˆì§€ì…ë‹ˆë‹¤. `unknown`ì„ ì‚¬ìš©í•˜ê³  íƒ€ì… ê°€ë“œë¡œ ì¢íˆì„¸ìš”.

**Q2. "ë²•ë¥  ì²´í¬ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?"**
- A: Pre-commit Hookì´ ìë™ìœ¼ë¡œ ì²´í¬í•©ë‹ˆë‹¤. "ì‚¬ì„¸ìš”", "ìˆ˜ìµ ë³´ì¥" ê°™ì€ í‘œí˜„ ê°ì§€ ì‹œ ì»¤ë°‹ ì°¨ë‹¨.

**Q3. "ë””ìì¸ ì‹œìŠ¤í…œ ì–´ë””ì„œ ë³´ë‚˜ìš”?"**
- A: `DESIGN_SYSTEM.md` + Storybook (`pnpm storybook`)

**Q4. "ë¡œì»¬ì—ì„œ Upstash Redis ì—†ì´ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´?"**
- A: In-memory fallbackì„ ì‚¬ìš©í•˜ì„¸ìš” (`USE_INMEMORY_QUEUE=true`)

**Q5. "PRì´ ì–¸ì œ ë¨¸ì§€ë˜ë‚˜ìš”?"**
- A: 2ëª… ì´ìƒ ìŠ¹ì¸ + CI í†µê³¼ í›„ ìë™ ë¨¸ì§€

### ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ë¬¸ì œ 1: "pnpm install ì‹¤íŒ¨"**
```bash
# í•´ê²°: Node.js ë²„ì „ í™•ì¸
node -v  # 18+ í•„ìš”

# pnpm ì¬ì„¤ì¹˜
npm install -g pnpm@latest
```

**ë¬¸ì œ 2: "Supabase ì—°ê²° ì‹¤íŒ¨"**
```bash
# í•´ê²°: í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $NEXT_PUBLIC_SUPABASE_URL
# ë¹„ì–´ìˆìœ¼ë©´ .env.local íŒŒì¼ í™•ì¸
```

**ë¬¸ì œ 3: "íƒ€ì… ì—ëŸ¬"**
```bash
# í•´ê²°: Supabase íƒ€ì… ì¬ìƒì„±
supabase gen types typescript --local > src/lib/supabase/types.ts
```

---

## 10. ë„ì›€ ë°›ê¸°

### ğŸ’¬ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì±„ë„

**Slack Channels**:
- `#general` - ì¼ë°˜ ëŒ€í™”
- `#engineering` - ê¸°ìˆ  ë…¼ì˜
- `#frontend` - í”„ë¡ íŠ¸ì—”ë“œ
- `#backend` - ë°±ì—”ë“œ
- `#help` - ì§ˆë¬¸/ë„ì›€

**ì½”ë“œ ë¦¬ë·°**:
- GitHub PRì— ì½”ë©˜íŠ¸
- Slack `#engineering`ì—ì„œ ë…¼ì˜

**1:1 ë©˜í† ë§**:
- íŒ€ì¥ê³¼ ì£¼ 1íšŒ 1:1 ë¯¸íŒ…
- Calendly ë§í¬ë¡œ ì˜ˆì•½

### ğŸ“š í•™ìŠµ ìë£Œ

**í•„ìˆ˜ ì½ê¸°**:
- Next.js 15 Docs: https://nextjs.org/docs
- Claude API Docs: https://docs.anthropic.com
- Supabase Docs: https://supabase.com/docs
- Tailwind CSS: https://tailwindcss.com/docs

**ì¶”ì²œ ê°•ì˜**:
- "Next.js 15 ì™„ë²½ ê°€ì´ë“œ" (Udemy)
- "Claude Prompt Engineering" (Anthropic)

### ğŸ¯ ì²« ì£¼ ëª©í‘œ

**Day 1**:
- [ ] í™˜ê²½ ì„¤ì • ì™„ë£Œ
- [ ] ë¡œì»¬ì—ì„œ ì•± ì‹¤í–‰ ì„±ê³µ
- [ ] í•„ìˆ˜ ë¬¸ì„œ ì½ê¸° (BUSINESS_CONSTITUTION, DESIGN_SYSTEM)

**Day 2-3**:
- [ ] ì½”ë“œë² ì´ìŠ¤ íƒìƒ‰
- [ ] ê°„ë‹¨í•œ ë²„ê·¸ ìˆ˜ì • PR
- [ ] íŒ€ì›ë“¤ê³¼ 1:1 ì†Œê°œ

**Day 4-5**:
- [ ] ì²« ê¸°ëŠ¥ ê°œë°œ ì‹œì‘
- [ ] ì½”ë“œ ë¦¬ë·° ì°¸ì—¬
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±

---

## ğŸ‰ í™˜ì˜í•©ë‹ˆë‹¤!

**ì¤€ë¹„ ì™„ë£Œ!** ì´ì œ HEPHAITOS íŒ€ì˜ ì¼ì›ì…ë‹ˆë‹¤.

í•¨ê»˜ **"Replit for Trading"**ì„ ë§Œë“¤ì–´ê°‘ì‹œë‹¤! ğŸš€

ì§ˆë¬¸ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ Slack `#help` ì±„ë„ì— ë¬¼ì–´ë³´ì„¸ìš”!

---

**ì‘ì„±ì¼**: 2025-12-22
**ë‹´ë‹¹ì**: Engineering Team
**ë¬¸ì˜**: dev@hephaitos.io
